<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="script" href="app.js" />
	</head>

	<body>
		<form enctype="multipart/form-data">
			<input type="file" name="Files" required multiple />
			<input type="text" name="Name" placeholder="Name" />
			<button type="submit">Submit</button>
		</form>
		<p id="demo">test</p>
    <script src="app.js" type="text/javascript"></script>
	</body>
	<script>
		const formElem = document.querySelector('form');
		formElem.addEventListener('submit', async (e) => {
			console.log('form submitted');
			console.log(document.getElementById('demo').value);
			// document.getElementById('demo').innerHTML = respone.data.id;
			e.preventDefault();
			await fetch('/upload', {
				method: 'POST',
				body: new FormData(formElem),
			});
		});
		// var fileID = '';
		// const uploadFile = async (fileObject) => {
		// 	const bufferStream = new stream.PassThrough();
		// 	bufferStream.end(fileObject.buffer);
		// 	try {
		// 		const response = await drive.files.create({
		// 			requestBody: {
		// 				name: fileObject.originalname,
		// 				mimeType: fileObject.mimeType,
		// 			},
		// 			media: {
		// 				mimeType: fileObject.mimeType,

		// 				body: fs.createReadStream(
		// 					'C:/users/kanishk harde/downloads/' + fileObject.originalname
		// 				),
		// 			},
		// 		});
		// 		console.log(fileObject);
		// 		console.log(response.data.id);
		// 		// const fileID = response.data.id;
		// 		console.log('test');
		// 		// var fileID = response.data.id;
		// 	} catch (error) {
		// 		console.log(error.message);
		// 		console.log(fileObject);
		// 	}
		// };
	</script>

</html>
